<!DOCTYPE html><html><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<meta name="theme-color" content="#375EAB"/>

  <title>stscreds - Go Documentation Server</title>

<link type="text/css" rel="stylesheet" href="../../../../../../../lib/godoc/style.css"/>

<script>window.initFuncs = [];</script>
<script src="../../../../../../../lib/godoc/jquery.js" defer=""></script>



<script>var goVersion = "go1.17";</script>
<script src="../../../../../../../lib/godoc/godocs.js" defer=""></script>
</head>
<body>

<div id="lowframe" style="position: fixed; bottom: 0; left: 0; height: 0; width: 100%; border-top: thin solid grey; background-color: white; overflow: auto;">
...
</div><!-- #lowframe -->

<div id="topbar" class="wide"><div class="container">
<div class="top-heading" id="heading-wide"><a href="http://localhost:6060/pkg/">Go Documentation Server</a></div>
<div class="top-heading" id="heading-narrow"><a href="http://localhost:6060/pkg/">GoDoc</a></div>
<a href="index.html#" id="menu-button"><span id="menu-button-arrow">▽</span></a>
<form method="GET" action="http://localhost:6060/search">
<div id="menu">

<span class="search-box"><input type="search" id="search" name="q" placeholder="Search" aria-label="Search" required=""/><button type="submit"><span><!-- magnifying glass: --><svg width="24" height="24" viewBox="0 0 24 24"><title>submit search</title><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></button></span>
</div>
</form>

</div></div>



<div id="page" class="wide">
<div class="container">


  <h1>
    Package stscreds
    <span class="text-muted"></span>
  </h1>







<div id="nav"></div>


<!--
	Copyright 2009 The Go Authors. All rights reserved.
	Use of this source code is governed by a BSD-style
	license that can be found in the LICENSE file.
-->
<!--
	Note: Static (i.e., not template-generated) href and id
	attributes start with "pkg-" to make it impossible for
	them to conflict with generated attributes (some of which
	correspond to Go identifiers).
-->

	<script>
	document.ANALYSIS_DATA = null;
	document.CALLGRAPH = null;
	</script>

	
		
		<div id="short-nav">
			<dl>
			<dd><code>import &#34;github.com/aws/aws-sdk-go/aws/credentials/stscreds&#34;</code></dd>
			</dl>
			<dl>
			<dd><a href="index.html#pkg-overview" class="overviewLink">Overview</a></dd>
			<dd><a href="index.html#pkg-index" class="indexLink">Index</a></dd>
			
			
			</dl>
		</div>
		<!-- The package's Name is printed as title by the top-level template -->
		<div id="pkg-overview" class="toggleVisible">
			<div class="collapsed">
				<h2 class="toggleButton" title="Click to show Overview section">Overview ▹</h2>
			</div>
			<div class="expanded">
				<h2 class="toggleButton" title="Click to hide Overview section">Overview ▾</h2>
				<p>
Package stscreds are credential Providers to retrieve STS AWS credentials.
</p>
<p>
STS provides multiple ways to retrieve credentials which can be used when making
future AWS service API operation calls.
</p>
<p>
The SDK will ensure that per instance of credentials.Credentials all requests
to refresh the credentials will be synchronized. But, the SDK is unable to
ensure synchronous usage of the AssumeRoleProvider if the value is shared
between multiple Credentials, Sessions or service clients.
</p>
<h3 id="hdr-Assume_Role">Assume Role</h3>
<p>
To assume an IAM role using STS with the SDK you can create a new Credentials
with the SDKs&#39;s stscreds package.
</p>
<pre>// Initial credentials loaded from SDK&#39;s default credential chain. Such as
// the environment, shared credentials (~/.aws/credentials), or EC2 Instance
// Role. These credentials will be used to to make the STS Assume Role API.
sess := session.Must(session.NewSession())

// Create the credentials from AssumeRoleProvider to assume the role
// referenced by the &#34;myRoleARN&#34; ARN.
creds := stscreds.NewCredentials(sess, &#34;myRoleArn&#34;)

// Create service client value configured for credentials
// from assumed role.
svc := s3.New(sess, &amp;aws.Config{Credentials: creds})
</pre>
<h3 id="hdr-Assume_Role_with_static_MFA_Token">Assume Role with static MFA Token</h3>
<p>
To assume an IAM role with a MFA token you can either specify a MFA token code
directly or provide a function to prompt the user each time the credentials
need to refresh the role&#39;s credentials. Specifying the TokenCode should be used
for short lived operations that will not need to be refreshed, and when you do
not want to have direct control over the user provides their MFA token.
</p>
<p>
With TokenCode the AssumeRoleProvider will be not be able to refresh the role&#39;s
credentials.
</p>
<pre>// Create the credentials from AssumeRoleProvider to assume the role
// referenced by the &#34;myRoleARN&#34; ARN using the MFA token code provided.
creds := stscreds.NewCredentials(sess, &#34;myRoleArn&#34;, func(p *stscreds.AssumeRoleProvider) {
	p.SerialNumber = aws.String(&#34;myTokenSerialNumber&#34;)
	p.TokenCode = aws.String(&#34;00000000&#34;)
})

// Create service client value configured for credentials
// from assumed role.
svc := s3.New(sess, &amp;aws.Config{Credentials: creds})
</pre>
<h3 id="hdr-Assume_Role_with_MFA_Token_Provider">Assume Role with MFA Token Provider</h3>
<p>
To assume an IAM role with MFA for longer running tasks where the credentials
may need to be refreshed setting the TokenProvider field of AssumeRoleProvider
will allow the credential provider to prompt for new MFA token code when the
role&#39;s credentials need to be refreshed.
</p>
<p>
The StdinTokenProvider function is available to prompt on stdin to retrieve
the MFA token code from the user. You can also implement custom prompts by
satisfing the TokenProvider function signature.
</p>
<p>
Using StdinTokenProvider with multiple AssumeRoleProviders, or Credentials will
have undesirable results as the StdinTokenProvider will not be synchronized. A
single Credentials with an AssumeRoleProvider can be shared safely.
</p>
<pre>// Create the credentials from AssumeRoleProvider to assume the role
// referenced by the &#34;myRoleARN&#34; ARN. Prompting for MFA token from stdin.
creds := stscreds.NewCredentials(sess, &#34;myRoleArn&#34;, func(p *stscreds.AssumeRoleProvider) {
	p.SerialNumber = aws.String(&#34;myTokenSerialNumber&#34;)
	p.TokenProvider = stscreds.StdinTokenProvider
})

// Create service client value configured for credentials
// from assumed role.
svc := s3.New(sess, &amp;aws.Config{Credentials: creds})
</pre>

				
			</div>
		</div>

		<div id="pkg-index" class="toggleVisible">
		<div class="collapsed">
			<h2 class="toggleButton" title="Click to show Index section">Index ▹</h2>
		</div>
		<div class="expanded">
			<h2 class="toggleButton" title="Click to hide Index section">Index ▾</h2>

		<!-- Table of contents for API; must be named manual-nav to turn off auto nav. -->
			<div id="manual-nav">
			<dl>
			
				<dd><a href="index.html#pkg-constants">Constants</a></dd>
			
			
				<dd><a href="index.html#pkg-variables">Variables</a></dd>
			
			
				
				<dd><a href="index.html#NewCredentials">func NewCredentials(c client.ConfigProvider, roleARN string, options ...func(*AssumeRoleProvider)) *credentials.Credentials</a></dd>
			
				
				<dd><a href="index.html#NewCredentialsWithClient">func NewCredentialsWithClient(svc AssumeRoler, roleARN string, options ...func(*AssumeRoleProvider)) *credentials.Credentials</a></dd>
			
				
				<dd><a href="index.html#NewWebIdentityCredentials">func NewWebIdentityCredentials(c client.ConfigProvider, roleARN, roleSessionName, path string) *credentials.Credentials</a></dd>
			
				
				<dd><a href="index.html#StdinTokenProvider">func StdinTokenProvider() (string, error)</a></dd>
			
			
				
				<dd><a href="index.html#AssumeRoleProvider">type AssumeRoleProvider</a></dd>
				
				
					
					<dd>    <a href="index.html#AssumeRoleProvider.Retrieve">func (p *AssumeRoleProvider) Retrieve() (credentials.Value, error)</a></dd>
				
					
					<dd>    <a href="index.html#AssumeRoleProvider.RetrieveWithContext">func (p *AssumeRoleProvider) RetrieveWithContext(ctx credentials.Context) (credentials.Value, error)</a></dd>
				
			
				
				<dd><a href="index.html#AssumeRoler">type AssumeRoler</a></dd>
				
				
			
				
				<dd><a href="index.html#FetchTokenPath">type FetchTokenPath</a></dd>
				
				
					
					<dd>    <a href="index.html#FetchTokenPath.FetchToken">func (f FetchTokenPath) FetchToken(ctx credentials.Context) ([]byte, error)</a></dd>
				
			
				
				<dd><a href="index.html#TokenFetcher">type TokenFetcher</a></dd>
				
				
			
				
				<dd><a href="index.html#WebIdentityRoleProvider">type WebIdentityRoleProvider</a></dd>
				
					
					<dd>    <a href="index.html#NewWebIdentityRoleProvider">func NewWebIdentityRoleProvider(svc stsiface.STSAPI, roleARN, roleSessionName, path string) *WebIdentityRoleProvider</a></dd>
				
					
					<dd>    <a href="index.html#NewWebIdentityRoleProviderWithToken">func NewWebIdentityRoleProviderWithToken(svc stsiface.STSAPI, roleARN, roleSessionName string, tokenFetcher TokenFetcher) *WebIdentityRoleProvider</a></dd>
				
				
					
					<dd>    <a href="index.html#WebIdentityRoleProvider.Retrieve">func (p *WebIdentityRoleProvider) Retrieve() (credentials.Value, error)</a></dd>
				
					
					<dd>    <a href="index.html#WebIdentityRoleProvider.RetrieveWithContext">func (p *WebIdentityRoleProvider) RetrieveWithContext(ctx credentials.Context) (credentials.Value, error)</a></dd>
				
			
			
			</dl>
			</div><!-- #manual-nav -->

		

		
			<h3>Package files</h3>
			<p>
			<span style="font-size:90%">
			
				<a href="http://localhost:6060/src/github.com/aws/aws-sdk-go/aws/credentials/stscreds/assume_role_provider.go">assume_role_provider.go</a>
			
				<a href="http://localhost:6060/src/github.com/aws/aws-sdk-go/aws/credentials/stscreds/web_identity_provider.go">web_identity_provider.go</a>
			
			</span>
			</p>
		
		</div><!-- .expanded -->
		</div><!-- #pkg-index -->

		

		
			<h2 id="pkg-constants">Constants</h2>
			
				
				<pre>const (
    <span class="comment">// ErrCodeWebIdentity will be used as an error code when constructing</span>
    <span class="comment">// a new error to be returned during session creation or retrieval.</span>
    <span id="ErrCodeWebIdentity">ErrCodeWebIdentity</span> = &#34;WebIdentityErr&#34;

    <span class="comment">// WebIdentityProviderName is the web identity provider name</span>
    <span id="WebIdentityProviderName">WebIdentityProviderName</span> = &#34;WebIdentityCredentials&#34;
)</pre>
			
				<p>
ProviderName provides a name of AssumeRole provider
</p>

				<pre>const <span id="ProviderName">ProviderName</span> = &#34;AssumeRoleProvider&#34;</pre>
			
		
		
			<h2 id="pkg-variables">Variables</h2>
			
				<p>
DefaultDuration is the default amount of time in minutes that the credentials
will be valid for.
</p>

				<pre>var <span id="DefaultDuration">DefaultDuration</span> = <a href="../../../../../../time/index.html">time</a>.<a href="../../../../../../time/index.html#Duration">Duration</a>(15) * <a href="../../../../../../time/index.html">time</a>.<a href="../../../../../../time/index.html#Minute">Minute</a></pre>
			
		
		
			
			
			<h2 id="NewCredentials">func <a href="http://localhost:6060/src/github.com/aws/aws-sdk-go/aws/credentials/stscreds/assume_role_provider.go?s=11405:11528#L249">NewCredentials</a>
				<a class="permalink" href="index.html#NewCredentials">¶</a>
				
				
			</h2>
			<pre>func NewCredentials(c <a href="../../client/index.html">client</a>.<a href="../../client/index.html#ConfigProvider">ConfigProvider</a>, roleARN <a href="../../../../../../builtin/index.html#string">string</a>, options ...func(*<a href="index.html#AssumeRoleProvider">AssumeRoleProvider</a>)) *<a href="../index.html">credentials</a>.<a href="../index.html#Credentials">Credentials</a></pre>
			<p>
NewCredentials returns a pointer to a new Credentials value wrapping the
AssumeRoleProvider. The credentials will expire every 15 minutes and the
role will be named after a nanosecond timestamp of this operation. The
Credentials value will attempt to refresh the credentials using the provider
when Credentials.Get is called, if the cached credentials are expiring.
</p>
<p>
Takes a Config provider to create the STS client. The ConfigProvider is
satisfied by the session.Session type.
</p>
<p>
It is safe to share the returned Credentials with multiple Sessions and
service clients. All access to the credentials and refreshing them
will be synchronized.
</p>

			
			

		
			
			
			<h2 id="NewCredentialsWithClient">func <a href="http://localhost:6060/src/github.com/aws/aws-sdk-go/aws/credentials/stscreds/assume_role_provider.go?s=12360:12485#L274">NewCredentialsWithClient</a>
				<a class="permalink" href="index.html#NewCredentialsWithClient">¶</a>
				
				
			</h2>
			<pre>func NewCredentialsWithClient(svc <a href="index.html#AssumeRoler">AssumeRoler</a>, roleARN <a href="../../../../../../builtin/index.html#string">string</a>, options ...func(*<a href="index.html#AssumeRoleProvider">AssumeRoleProvider</a>)) *<a href="../index.html">credentials</a>.<a href="../index.html#Credentials">Credentials</a></pre>
			<p>
NewCredentialsWithClient returns a pointer to a new Credentials value wrapping the
AssumeRoleProvider. The credentials will expire every 15 minutes and the
role will be named after a nanosecond timestamp of this operation. The
Credentials value will attempt to refresh the credentials using the provider
when Credentials.Get is called, if the cached credentials are expiring.
</p>
<p>
Takes an AssumeRoler which can be satisfied by the STS client.
</p>
<p>
It is safe to share the returned Credentials with multiple Sessions and
service clients. All access to the credentials and refreshing them
will be synchronized.
</p>

			
			

		
			
			
			<h2 id="NewWebIdentityCredentials">func <a href="http://localhost:6060/src/github.com/aws/aws-sdk-go/aws/credentials/stscreds/web_identity_provider.go?s=2349:2468#L67">NewWebIdentityCredentials</a>
				<a class="permalink" href="index.html#NewWebIdentityCredentials">¶</a>
				
				
			</h2>
			<pre>func NewWebIdentityCredentials(c <a href="../../client/index.html">client</a>.<a href="../../client/index.html#ConfigProvider">ConfigProvider</a>, roleARN, roleSessionName, path <a href="../../../../../../builtin/index.html#string">string</a>) *<a href="../index.html">credentials</a>.<a href="../index.html#Credentials">Credentials</a></pre>
			<p>
NewWebIdentityCredentials will return a new set of credentials with a given
configuration, role arn, and token file path.
</p>

			
			

		
			
			
			<h2 id="StdinTokenProvider">func <a href="http://localhost:6060/src/github.com/aws/aws-sdk-go/aws/credentials/stscreds/assume_role_provider.go?s=4327:4368#L96">StdinTokenProvider</a>
				<a class="permalink" href="index.html#StdinTokenProvider">¶</a>
				
				
			</h2>
			<pre>func StdinTokenProvider() (<a href="../../../../../../builtin/index.html#string">string</a>, <a href="../../../../../../builtin/index.html#error">error</a>)</pre>
			<p>
StdinTokenProvider will prompt on stderr and read from stdin for a string value.
An error is returned if reading from stdin fails.
</p>
<p>
Use this function to read MFA tokens from stdin. The function makes no attempt
to make atomic prompts from stdin across multiple gorouties.
</p>
<p>
Using StdinTokenProvider with multiple AssumeRoleProviders, or Credentials will
have undesirable results as the StdinTokenProvider will not be synchronized. A
single Credentials with an AssumeRoleProvider can be shared safely
</p>
<p>
Will wait forever until something is provided on the stdin.
</p>

			
			

		
		
			
			
			<h2 id="AssumeRoleProvider">type <a href="http://localhost:6060/src/github.com/aws/aws-sdk-go/aws/credentials/stscreds/assume_role_provider.go?s=5659:10729#L130">AssumeRoleProvider</a>
				<a class="permalink" href="index.html#AssumeRoleProvider">¶</a>
				
				
			</h2>
			<p>
AssumeRoleProvider retrieves temporary credentials from the STS service, and
keeps track of their expiration time.
</p>
<p>
This credential provider will be used by the SDKs default credential change
when shared configuration is enabled, and the shared config or shared credentials
file configure assume role. See Session docs for how to do this.
</p>
<p>
AssumeRoleProvider does not provide any synchronization and it is not safe
to share this value across multiple Credentials, Sessions, or service clients
without also sharing the same Credentials instance.
</p>

			<pre>type AssumeRoleProvider struct {
    <a href="../index.html">credentials</a>.<a href="../index.html#Expiry">Expiry</a>

    <span class="comment">// STS client to make assume role request with.</span>
<span id="AssumeRoleProvider.Client"></span>    Client <a href="index.html#AssumeRoler">AssumeRoler</a>

    <span class="comment">// Role to be assumed.</span>
<span id="AssumeRoleProvider.RoleARN"></span>    RoleARN <a href="../../../../../../builtin/index.html#string">string</a>

    <span class="comment">// Session name, if you wish to reuse the credentials elsewhere.</span>
<span id="AssumeRoleProvider.RoleSessionName"></span>    RoleSessionName <a href="../../../../../../builtin/index.html#string">string</a>

    <span class="comment">// Optional, you can pass tag key-value pairs to your session. These tags are called session tags.</span>
<span id="AssumeRoleProvider.Tags"></span>    Tags []*<a href="../../../service/sts/index.html">sts</a>.<a href="../../../service/sts/index.html#Tag">Tag</a>

    <span class="comment">// A list of keys for session tags that you want to set as transitive.</span>
    <span class="comment">// If you set a tag key as transitive, the corresponding key and value passes to subsequent sessions in a role chain.</span>
<span id="AssumeRoleProvider.TransitiveTagKeys"></span>    TransitiveTagKeys []*<a href="../../../../../../builtin/index.html#string">string</a>

    <span class="comment">// Expiry duration of the STS credentials. Defaults to 15 minutes if not set.</span>
<span id="AssumeRoleProvider.Duration"></span>    Duration <a href="../../../../../../time/index.html">time</a>.<a href="../../../../../../time/index.html#Duration">Duration</a>

    <span class="comment">// Optional ExternalID to pass along, defaults to nil if not set.</span>
<span id="AssumeRoleProvider.ExternalID"></span>    ExternalID *<a href="../../../../../../builtin/index.html#string">string</a>

    <span class="comment">// The policy plain text must be 2048 bytes or shorter. However, an internal</span>
    <span class="comment">// conversion compresses it into a packed binary format with a separate limit.</span>
    <span class="comment">// The PackedPolicySize response element indicates by percentage how close to</span>
    <span class="comment">// the upper size limit the policy is, with 100% equaling the maximum allowed</span>
    <span class="comment">// size.</span>
<span id="AssumeRoleProvider.Policy"></span>    Policy *<a href="../../../../../../builtin/index.html#string">string</a>

    <span class="comment">// The ARNs of IAM managed policies you want to use as managed session policies.</span>
    <span class="comment">// The policies must exist in the same account as the role.</span>
    <span class="comment">//</span>
    <span class="comment">// This parameter is optional. You can provide up to 10 managed policy ARNs.</span>
    <span class="comment">// However, the plain text that you use for both inline and managed session</span>
    <span class="comment">// policies can&#39;t exceed 2,048 characters.</span>
    <span class="comment">//</span>
    <span class="comment">// An AWS conversion compresses the passed session policies and session tags</span>
    <span class="comment">// into a packed binary format that has a separate limit. Your request can fail</span>
    <span class="comment">// for this limit even if your plain text meets the other requirements. The</span>
    <span class="comment">// PackedPolicySize response element indicates by percentage how close the policies</span>
    <span class="comment">// and tags for your request are to the upper size limit.</span>
    <span class="comment">//</span>
    <span class="comment">// Passing policies to this operation returns new temporary credentials. The</span>
    <span class="comment">// resulting session&#39;s permissions are the intersection of the role&#39;s identity-based</span>
    <span class="comment">// policy and the session policies. You can use the role&#39;s temporary credentials</span>
    <span class="comment">// in subsequent AWS API calls to access resources in the account that owns</span>
    <span class="comment">// the role. You cannot use session policies to grant more permissions than</span>
    <span class="comment">// those allowed by the identity-based policy of the role that is being assumed.</span>
    <span class="comment">// For more information, see Session Policies (https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies.html#policies_session)</span>
    <span class="comment">// in the IAM User Guide.</span>
<span id="AssumeRoleProvider.PolicyArns"></span>    PolicyArns []*<a href="../../../service/sts/index.html">sts</a>.<a href="../../../service/sts/index.html#PolicyDescriptorType">PolicyDescriptorType</a>

    <span class="comment">// The identification number of the MFA device that is associated with the user</span>
    <span class="comment">// who is making the AssumeRole call. Specify this value if the trust policy</span>
    <span class="comment">// of the role being assumed includes a condition that requires MFA authentication.</span>
    <span class="comment">// The value is either the serial number for a hardware device (such as GAHT12345678)</span>
    <span class="comment">// or an Amazon Resource Name (ARN) for a virtual device (such as arn:aws:iam::123456789012:mfa/user).</span>
<span id="AssumeRoleProvider.SerialNumber"></span>    SerialNumber *<a href="../../../../../../builtin/index.html#string">string</a>

    <span class="comment">// The value provided by the MFA device, if the trust policy of the role being</span>
    <span class="comment">// assumed requires MFA (that is, if the policy includes a condition that tests</span>
    <span class="comment">// for MFA). If the role being assumed requires MFA and if the TokenCode value</span>
    <span class="comment">// is missing or expired, the AssumeRole call returns an &#34;access denied&#34; error.</span>
    <span class="comment">//</span>
    <span class="comment">// If SerialNumber is set and neither TokenCode nor TokenProvider are also</span>
    <span class="comment">// set an error will be returned.</span>
<span id="AssumeRoleProvider.TokenCode"></span>    TokenCode *<a href="../../../../../../builtin/index.html#string">string</a>

    <span class="comment">// Async method of providing MFA token code for assuming an IAM role with MFA.</span>
    <span class="comment">// The value returned by the function will be used as the TokenCode in the Retrieve</span>
    <span class="comment">// call. See StdinTokenProvider for a provider that prompts and reads from stdin.</span>
    <span class="comment">//</span>
    <span class="comment">// This token provider will be called when ever the assumed role&#39;s</span>
    <span class="comment">// credentials need to be refreshed when SerialNumber is also set and</span>
    <span class="comment">// TokenCode is not set.</span>
    <span class="comment">//</span>
    <span class="comment">// If both TokenCode and TokenProvider is set, TokenProvider will be used and</span>
    <span class="comment">// TokenCode is ignored.</span>
<span id="AssumeRoleProvider.TokenProvider"></span>    TokenProvider func() (<a href="../../../../../../builtin/index.html#string">string</a>, <a href="../../../../../../builtin/index.html#error">error</a>)

<span id="AssumeRoleProvider.ExpiryWindow"></span>    <span class="comment">// ExpiryWindow will allow the credentials to trigger refreshing prior to</span>
    <span class="comment">// the credentials actually expiring. This is beneficial so race conditions</span>
    <span class="comment">// with expiring credentials do not cause request to fail unexpectedly</span>
    <span class="comment">// due to ExpiredTokenException exceptions.</span>
    <span class="comment">//</span>
    <span class="comment">// So a ExpiryWindow of 10s would cause calls to IsExpired() to return true</span>
    <span class="comment">// 10 seconds before the credentials are actually expired.</span>
    <span class="comment">//</span>
    <span class="comment">// If ExpiryWindow is 0 or less it will be ignored.</span>
    ExpiryWindow <a href="../../../../../../time/index.html">time</a>.<a href="../../../../../../time/index.html#Duration">Duration</a>

<span id="AssumeRoleProvider.MaxJitterFrac"></span>    <span class="comment">// MaxJitterFrac reduces the effective Duration of each credential requested</span>
    <span class="comment">// by a random percentage between 0 and MaxJitterFraction. MaxJitterFrac must</span>
    <span class="comment">// have a value between 0 and 1. Any other value may lead to expected behavior.</span>
    <span class="comment">// With a MaxJitterFrac value of 0, default) will no jitter will be used.</span>
    <span class="comment">//</span>
    <span class="comment">// For example, with a Duration of 30m and a MaxJitterFrac of 0.1, the</span>
    <span class="comment">// AssumeRole call will be made with an arbitrary Duration between 27m and</span>
    <span class="comment">// 30m.</span>
    <span class="comment">//</span>
    <span class="comment">// MaxJitterFrac should not be negative.</span>
    MaxJitterFrac <a href="../../../../../../builtin/index.html#float64">float64</a>
}
</pre>

			

			

			
			
			

			

			
				
				<h3 id="AssumeRoleProvider.Retrieve">func (*AssumeRoleProvider) <a href="http://localhost:6060/src/github.com/aws/aws-sdk-go/aws/credentials/stscreds/assume_role_provider.go?s=12745:12811#L289">Retrieve</a>
					<a class="permalink" href="index.html#AssumeRoleProvider.Retrieve">¶</a>
					
					
				</h3>
				<pre>func (p *<a href="index.html#AssumeRoleProvider">AssumeRoleProvider</a>) Retrieve() (<a href="../index.html">credentials</a>.<a href="../index.html#Value">Value</a>, <a href="../../../../../../builtin/index.html#error">error</a>)</pre>
				<p>
Retrieve generates a new set of temporary credentials using STS.
</p>

				
				
				
			
				
				<h3 id="AssumeRoleProvider.RetrieveWithContext">func (*AssumeRoleProvider) <a href="http://localhost:6060/src/github.com/aws/aws-sdk-go/aws/credentials/stscreds/assume_role_provider.go?s=12951:13051#L294">RetrieveWithContext</a>
					<a class="permalink" href="index.html#AssumeRoleProvider.RetrieveWithContext">¶</a>
					
					
				</h3>
				<pre>func (p *<a href="index.html#AssumeRoleProvider">AssumeRoleProvider</a>) RetrieveWithContext(ctx <a href="../index.html">credentials</a>.<a href="../index.html#Context">Context</a>) (<a href="../index.html">credentials</a>.<a href="../index.html#Value">Value</a>, <a href="../../../../../../builtin/index.html#error">error</a>)</pre>
				<p>
RetrieveWithContext generates a new set of temporary credentials using STS.
</p>

				
				
				
			
		
			
			
			<h2 id="AssumeRoler">type <a href="http://localhost:6060/src/github.com/aws/aws-sdk-go/aws/credentials/stscreds/assume_role_provider.go?s=4674:4775#L108">AssumeRoler</a>
				<a class="permalink" href="index.html#AssumeRoler">¶</a>
				
				
			</h2>
			<p>
AssumeRoler represents the minimal subset of the STS client API used by this provider.
</p>

			<pre>type AssumeRoler interface {
    AssumeRole(input *<a href="../../../service/sts/index.html">sts</a>.<a href="../../../service/sts/index.html#AssumeRoleInput">AssumeRoleInput</a>) (*<a href="../../../service/sts/index.html">sts</a>.<a href="../../../service/sts/index.html#AssumeRoleOutput">AssumeRoleOutput</a>, <a href="../../../../../../builtin/index.html#error">error</a>)
}</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="FetchTokenPath">type <a href="http://localhost:6060/src/github.com/aws/aws-sdk-go/aws/credentials/stscreds/web_identity_provider.go?s=986:1012#L27">FetchTokenPath</a>
				<a class="permalink" href="index.html#FetchTokenPath">¶</a>
				
				
			</h2>
			<p>
FetchTokenPath is a path to a WebIdentity token file
</p>

			<pre>type FetchTokenPath <a href="../../../../../../builtin/index.html#string">string</a></pre>

			

			

			
			
			

			

			
				
				<h3 id="FetchTokenPath.FetchToken">func (FetchTokenPath) <a href="http://localhost:6060/src/github.com/aws/aws-sdk-go/aws/credentials/stscreds/web_identity_provider.go?s=1075:1150#L30">FetchToken</a>
					<a class="permalink" href="index.html#FetchTokenPath.FetchToken">¶</a>
					
					
				</h3>
				<pre>func (f <a href="index.html#FetchTokenPath">FetchTokenPath</a>) FetchToken(ctx <a href="../index.html">credentials</a>.<a href="../index.html#Context">Context</a>) ([]<a href="../../../../../../builtin/index.html#byte">byte</a>, <a href="../../../../../../builtin/index.html#error">error</a>)</pre>
				<p>
FetchToken returns a token by reading from the filesystem
</p>

				
				
				
			
		
			
			
			<h2 id="TokenFetcher">type <a href="http://localhost:6060/src/github.com/aws/aws-sdk-go/aws/credentials/stscreds/web_identity_provider.go?s=848:928#L22">TokenFetcher</a>
				<a class="permalink" href="index.html#TokenFetcher">¶</a>
				
				
			</h2>
			<p>
TokenFetcher shuold return WebIdentity token bytes or an error
</p>

			<pre>type TokenFetcher interface {
    FetchToken(<a href="../index.html">credentials</a>.<a href="../index.html#Context">Context</a>) ([]<a href="../../../../../../builtin/index.html#byte">byte</a>, <a href="../../../../../../builtin/index.html#error">error</a>)
}</pre>

			

			

			
			
			

			

			
		
			
			
			<h2 id="WebIdentityRoleProvider">type <a href="http://localhost:6060/src/github.com/aws/aws-sdk-go/aws/credentials/stscreds/web_identity_provider.go?s=1432:2219#L41">WebIdentityRoleProvider</a>
				<a class="permalink" href="index.html#WebIdentityRoleProvider">¶</a>
				
				
			</h2>
			<p>
WebIdentityRoleProvider is used to retrieve credentials using
an OIDC token.
</p>

			<pre>type WebIdentityRoleProvider struct {
    <a href="../index.html">credentials</a>.<a href="../index.html#Expiry">Expiry</a>
<span id="WebIdentityRoleProvider.PolicyArns"></span>    PolicyArns []*<a href="../../../service/sts/index.html">sts</a>.<a href="../../../service/sts/index.html#PolicyDescriptorType">PolicyDescriptorType</a>

<span id="WebIdentityRoleProvider.Duration"></span>    <span class="comment">// Duration the STS credentials will be valid for. Truncated to seconds.</span>
    <span class="comment">// If unset, the assumed role will use AssumeRoleWithWebIdentity&#39;s default</span>
    <span class="comment">// expiry duration. See</span>
    <span class="comment">// https://docs.aws.amazon.com/sdk-for-go/api/service/sts/#STS.AssumeRoleWithWebIdentity</span>
    <span class="comment">// for more information.</span>
    Duration <a href="../../../../../../time/index.html">time</a>.<a href="../../../../../../time/index.html#Duration">Duration</a>

    <span class="comment">// The amount of time the credentials will be refreshed before they expire.</span>
    <span class="comment">// This is useful refresh credentials before they expire to reduce risk of</span>
    <span class="comment">// using credentials as they expire. If unset, will default to no expiry</span>
    <span class="comment">// window.</span>
<span id="WebIdentityRoleProvider.ExpiryWindow"></span>    ExpiryWindow <a href="../../../../../../time/index.html">time</a>.<a href="../../../../../../time/index.html#Duration">Duration</a>
    <span class="comment">// contains filtered or unexported fields</span>
}
</pre>

			

			

			
			
			

			
				
				<h3 id="NewWebIdentityRoleProvider">func <a href="http://localhost:6060/src/github.com/aws/aws-sdk-go/aws/credentials/stscreds/web_identity_provider.go?s=2710:2826#L75">NewWebIdentityRoleProvider</a>
					<a class="permalink" href="index.html#NewWebIdentityRoleProvider">¶</a>
					
					
				</h3>
				<pre>func NewWebIdentityRoleProvider(svc <a href="../../../service/sts/stsiface/index.html">stsiface</a>.<a href="../../../service/sts/stsiface/index.html#STSAPI">STSAPI</a>, roleARN, roleSessionName, path <a href="../../../../../../builtin/index.html#string">string</a>) *<a href="index.html#WebIdentityRoleProvider">WebIdentityRoleProvider</a></pre>
				<p>
NewWebIdentityRoleProvider will return a new WebIdentityRoleProvider with the
provided stsiface.STSAPI
</p>

				
				
			
				
				<h3 id="NewWebIdentityRoleProviderWithToken">func <a href="http://localhost:6060/src/github.com/aws/aws-sdk-go/aws/credentials/stscreds/web_identity_provider.go?s=3066:3212#L81">NewWebIdentityRoleProviderWithToken</a>
					<a class="permalink" href="index.html#NewWebIdentityRoleProviderWithToken">¶</a>
					
					
				</h3>
				<pre>func NewWebIdentityRoleProviderWithToken(svc <a href="../../../service/sts/stsiface/index.html">stsiface</a>.<a href="../../../service/sts/stsiface/index.html#STSAPI">STSAPI</a>, roleARN, roleSessionName <a href="../../../../../../builtin/index.html#string">string</a>, tokenFetcher <a href="index.html#TokenFetcher">TokenFetcher</a>) *<a href="index.html#WebIdentityRoleProvider">WebIdentityRoleProvider</a></pre>
				<p>
NewWebIdentityRoleProviderWithToken will return a new WebIdentityRoleProvider with the
provided stsiface.STSAPI and a TokenFetcher
</p>

				
				
			

			
				
				<h3 id="WebIdentityRoleProvider.Retrieve">func (*WebIdentityRoleProvider) <a href="http://localhost:6060/src/github.com/aws/aws-sdk-go/aws/credentials/stscreds/web_identity_provider.go?s=3554:3625#L93">Retrieve</a>
					<a class="permalink" href="index.html#WebIdentityRoleProvider.Retrieve">¶</a>
					
					
				</h3>
				<pre>func (p *<a href="index.html#WebIdentityRoleProvider">WebIdentityRoleProvider</a>) Retrieve() (<a href="../index.html">credentials</a>.<a href="../index.html#Value">Value</a>, <a href="../../../../../../builtin/index.html#error">error</a>)</pre>
				<p>
Retrieve will attempt to assume a role from a token which is located at
&#39;WebIdentityTokenFilePath&#39; specified destination and if that is empty an
error will be returned.
</p>

				
				
				
			
				
				<h3 id="WebIdentityRoleProvider.RetrieveWithContext">func (*WebIdentityRoleProvider) <a href="http://localhost:6060/src/github.com/aws/aws-sdk-go/aws/credentials/stscreds/web_identity_provider.go?s=3875:3980#L100">RetrieveWithContext</a>
					<a class="permalink" href="index.html#WebIdentityRoleProvider.RetrieveWithContext">¶</a>
					
					
				</h3>
				<pre>func (p *<a href="index.html#WebIdentityRoleProvider">WebIdentityRoleProvider</a>) RetrieveWithContext(ctx <a href="../index.html">credentials</a>.<a href="../index.html#Context">Context</a>) (<a href="../index.html">credentials</a>.<a href="../index.html#Value">Value</a>, <a href="../../../../../../builtin/index.html#error">error</a>)</pre>
				<p>
RetrieveWithContext will attempt to assume a role from a token which is located at
&#39;WebIdentityTokenFilePath&#39; specified destination and if that is empty an
error will be returned.
</p>

				
				
				
			
		
	

	







<div id="footer">
Build version go1.17.<br/>
Except as <a href="https://developers.google.com/site-policies#restrictions">noted</a>,
the content of this page is licensed under the
Creative Commons Attribution 3.0 License,
and code is licensed under a <a href="http://localhost:6060/LICENSE">BSD license</a>.<br/>
<a href="https://golang.org/doc/tos.html">Terms of Service</a> |
<a href="https://www.google.com/intl/en/policies/privacy/">Privacy Policy</a>
</div>

</div><!-- .container -->
</div><!-- #page -->


</body></html>